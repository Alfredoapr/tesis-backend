<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📔 Documentacion</title>
    <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura-vader.css" type="text/css">
</head>
<body>
    <h1>Documentacion</h1>

    <h2>API</h2>
    <pre>https://tesis-server-escom.herokuapp.com/</pre>

    <h2>Tesis</h2>
    <p>Descripcion de Tesis</p>
    <h3>Modelo</h3>
    <pre>
const thesisSchema = new Schema({
    thesisId: String,
    name: String,
    year: Number,
    tags: [String],
    school: String,
    resume: String,
    pdfRoute: String,
    status: Number,
    statusMessage: String,
    synodals: [String],
    director: String,
    authors: [String]
});
    </pre>
    <h3>Rutas</h3>
    
    <h5>Lista de tesis</h5>
    <h6>Descripcion</h6>
    <p>Devuelve la lista completa de todas las tesis existentes</p>
    <h6>URL</h6>
    <pre>GET /thesis</pre>

    <h5>Crear una tesis</h5>
    <h6>Descripcion</h6>
    <p>Crea una nueva tesis con los datos enviados y la devuelve</p>
    <h6>URL</h6>
    <pre>
POST /thesis
{
    thesisId: String,
    name: String,
    year: Number,
    tags: [String],
    school: String,
    resume: String,
    pdfRoute: String,
    status: Number,
    statusMessage: String,
    synodals: [String],
    director: String,
    authors: [String]
}
    </pre>

    <p>En donde status puede tomar los siguientes valores:</p> <br>
    <ul>
        <li> -1: Necesita corrección por parte del estudiante, este estado lo indica el director. </li>
        <li> 0: En espera de aprobación por parte del director. </li>
        <li> 1: Aprobación del director; en espera de aprobación por parte de gestión. </li>
        <li> 2: Aprobación por parte de gestión. </li>
        <li> -2: Rechazo por parte de gestión. Se va al estado '-1' </li>
    </ul>

    <h5>Buscar tesis por query</h5>
    <h6>Descripcion</h6>
    <p>Devuelve una lista con las tesis encontradas que coincidan con los parametros enviados</p>
    <h6>URL</h6>
    <pre>
        GET /thesis/search

        query {
            tags=
            name=
            year=
            thesisId=
            school=
            status=
            resume=
        }
    </pre>
    <h6>Ejemplo</h6>
    <pre>GET /thesis/search?tags=ia,redes&year=2021</pre>


    <h5>Ageragr archivo PDF a Cloudinary</h5>
    <h6>Descripcion</h6>
    <p>Devuelve la url del archivo pdf almacenado en cloudinary.</p>
    <h6>URL</h6>
    <pre>POST /thesis/upload</pre>
    
    <h6>Instrucciones</h6>
        <ol>
            <li>Seleccionar POST como método HTTP</li>
            <li>Utilizar la ruta https://tesis-server-escom.herokuapp.com/thesis/upload</li>
            <li>Indicar que el tipo de contenido será: multipart/form-data</li>
            <li>Enviarlo</li>
            <li>Recibir url del pdf </li>       
        </ol>    

<h2>Usuario</h2>
    <p>Descripcion de Usuario</p>
    <h3>Modelo</h3>
    <pre>
const userSchema = new Schema({
    boleta: String,
    name: String,
    email:String,
    type: String,
    password: String
});
    </pre>
    <h3>Rutas</h3>
    
    <h5>Lista de usuario</h5>
    <h6>Descripcion</h6>
    <p>Devuelve la lista completa de todos los usuarios existentes</p>
    <h6>URL</h6>
    <pre>GET /user</pre>

    <h5>Registrar un usuario</h5>
    <h6>Descripcion</h6>
    <p>Crea un nuevo usuario con los datos enviados y lo devuelve</p>
    <h6>URL</h6>
    <pre>
POST /user
{
    boleta: String,
    name: String,
    email:String,
    type: String,
    password: String
}
    </pre>

    <h5>Login del usuario</h5>
    <h6>Descripcion</h6>
    <p>Devuelve boleta, name, email y type que pertenezcan al password y boleta enviados </p>
    <h6>URL</h6>
    <pre>
        POST /user/login

         {
            boleta: String,
            password: String
        }
    </pre>

</body>
</html>